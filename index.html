<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Benny & Liam Time</title>
  <meta name="description" content="Playful single‚Äëpage clock for Benny & Liam Time (midpoint between Melbourne & Brisbane during DST, i.e. South Australian time) with compact Aussie zone glances, theme and 12/24h toggles." />
  <meta name="color-scheme" content="light dark" />
  <style>
    /* ===== Theme tokens ===== */
    :root {
      --bg: #0b0b12;
      --panel: #13131e;
      --panel-2: #181826;
      --text: #f7f8fc;
      --muted: #a6aec2;
      --ring: rgba(125, 211, 252, 0.35);
      --accent: #7dd3fc; /* sky-300 */
      --accent-2: #f0abfc; /* fuchsia-300 */
      --ok: #86efac; /* green-300 */
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
    }
    :root.light {
      --bg: #f7fafc;
      --panel: #ffffff;
      --panel-2: #eef2f8;
      --text: #0b1020;
      --muted: #5b6271;
      --ring: rgba(2, 132, 199, 0.18);
      --accent: #0284c7; /* sky-600 */
      --accent-2: #a21caf; /* fuchsia-700 */
      --ok: #16a34a; /* green-600 */
      --shadow: 0 10px 24px rgba(2, 8, 23, 0.08);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(900px 650px at 80% -20%, rgba(125,211,252,0.16), transparent 60%),
        radial-gradient(900px 700px at -10% 30%, rgba(240,171,252,0.13), transparent 60%),
        var(--bg);
      color: var(--text);
      display: grid; place-items: center; padding: 32px 16px; min-height: 100dvh;
    }

    .wrap { width: 100%; max-width: 820px; display: grid; gap: 16px; }

    header { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
    .brand { display: flex; align-items: center; gap: 10px; }
    .logo { width: 32px; height: 32px; border-radius: 10px; background: conic-gradient(from 30deg, var(--accent), var(--accent-2)); box-shadow: var(--shadow); }
    h1 { font-size: clamp(22px, 3.4vw, 28px); margin: 0; letter-spacing: 0.2px; }

    .controls { display: flex; gap: 8px; align-items: center; }
    .btn { padding: 8px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.14); background: var(--panel); color: var(--text); cursor: pointer; font-weight: 600; font-size: 13px; box-shadow: var(--shadow); }
    .btn:hover { border-color: var(--ring); }

    /* ===== Hero clock (center focus) ===== */
    .hero { display: grid; gap: 14px; margin-top: 8px; }
    .heroCard {
      border-radius: 24px; border: 1px solid rgba(255,255,255,0.10);
      background:
        linear-gradient(180deg, rgba(2,132,199,0.16), rgba(0,0,0,0.02)),
        var(--panel);
      padding: 26px 22px; box-shadow: var(--shadow);
    }
    .label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: 0.12em; text-align:center; }
    .big { font-variant-numeric: tabular-nums; font-size: clamp(52px, 9vw, 92px); font-weight: 800; line-height: 1.03; text-align: center; }
    .subRow { display: flex; gap: 10px; align-items: center; justify-content: center; color: var(--muted); margin-top: 8px; flex-wrap: wrap; }
    .chip { font-size: 12px; padding: 6px 10px; border-radius: 999px; border: 1px dashed rgba(255,255,255,0.16); color: var(--muted); background: var(--panel-2); }
    .date { margin-top: 4px; font-size: 13px; color: var(--muted); text-align: center; font-variant-numeric: tabular-nums; }

    /* ===== Zones (compact by default, expandable for details) ===== */
    .zonesCard { border-radius: 18px; border: 1px solid rgba(255,255,255,0.10); background: var(--panel); padding: 14px; }
    .zonesHeader { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 10px; }
    .zones { display: grid; grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); gap: 10px; }
    .zoneItem { display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 8px; padding: 10px 12px; border-radius: 12px; background: var(--panel-2); border: 1px solid rgba(255,255,255,0.08); transition: transform 120ms ease, box-shadow 120ms ease, padding 120ms;
    }
    .zoneItem:hover { transform: translateY(-1px); box-shadow: var(--shadow); }
    .zoneName { color: var(--muted); font-size: 12px; }
    .zoneTime { font-variant-numeric: tabular-nums; font-weight: 800; }
    .zoneMeta { display: none; gap: 6px; align-items: center; margin-top: 6px; grid-column: 1 / -1; }

    /* Expanded state shows meta and enlarges sizing */
    .zones.expanded .zoneItem { padding: 14px 16px; }
    .zones.expanded .zoneMeta { display: flex; }
    .zones.expanded .zoneTime { font-size: 18px; }

    /* Footer */
    footer { color: var(--muted); font-size: 12px; text-align: center; margin-top: 6px; }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Explanation section */
    .explain { border-radius: 14px; border: 1px solid rgba(255,255,255,0.10); background: var(--panel); padding: 14px; color: var(--muted); font-size: 14px; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>Benny & Liam Time</h1>
      </div>
      <div class="controls">
        <button class="btn" id="fmtBtn" aria-pressed="false" title="Toggle 12/24‚Äëhour">24‚Äëhour</button>
        <button class="btn" id="themeBtn" aria-pressed="false" title="Toggle light/dark">Dark</button>
        <button class="btn" id="toggleDetails" aria-pressed="false" title="Expand zone details">Expand details</button>
      </div>
    </header>

    <section class="hero">
      <div class="heroCard">
        <div class="label">Benny & Liam Time</div>
        <div class="big" id="bltTime">00:00:00</div>
        <div class="subRow">
          <!-- Hover-to-reveal true zone name and abbrev -->
          <span class="chip hoverSwap" id="bltZone" data-base="Australia/BLT" data-hover="Australia/Adelaide">Australia/BLT</span>
          <span class="chip hoverSwap" id="bltAbbrev" data-base="BLT" data-hover="ACDT">BLT</span>
          <span class="chip" id="bltOffset">UTC+10:30</span>
        </div>
        <div class="date" id="bltDate">Friday, 1 Jan 1970</div>
      </div>
    </section>

    <section class="zonesCard">
      <div class="zonesHeader">
        <div class="label">Quick glances ‚Äî Aussie zones</div>
        <div class="label" id="zonesHint">Compact view: city & time. Use ‚ÄúExpand details‚Äù for abbreviations & offsets.</div>
      </div>
      <div class="zones" id="zones"></div>
    </section>

    <section class="explain">
      <div class="label" style="text-align:left;">About this website</div>
      <p>
        <strong>Benny & Liam Time (BLT)</strong> is the playful halfway point between Melbourne and Brisbane during daylight saving. Rather than arguing whose clock to follow, the compromise is right in the middle ‚Äî which matches South Australia‚Äôs offset. On this site, we nickname that midpoint <em>Australia/BLT</em>. Hover over BLT labels to see the real zone and abbreviation.
      </p>
    </section>

    <footer>
      Made in Tasmania üá¶üá∫ ‚Äî Times use the browser‚Äôs <code>Intl</code> API (IANA time zones).
    </footer>
  </div>

  <script>
    // ===== Config =====
    const BLT_TZ = 'Australia/Adelaide'; // still the real zone for correctness
    const ZONES = [
      { label: 'Melbourne (VIC)', tz: 'Australia/Melbourne' },
      { label: 'Brisbane (QLD)', tz: 'Australia/Brisbane' },
      { label: 'Sydney (NSW)', tz: 'Australia/Sydney' },
      { label: 'Adelaide (SA)', tz: 'Australia/Adelaide' },
      { label: 'Perth (WA)', tz: 'Australia/Perth' },
      { label: 'Hobart (TAS)', tz: 'Australia/Hobart' },
      { label: 'Darwin (NT)', tz: 'Australia/Darwin' },
      { label: 'Canberra (ACT)', tz: 'Australia/Sydney' },
      { label: 'UTC', tz: 'UTC' },
    ];

    // ===== State & persistence =====
    const state = {
      hour12: JSON.parse(localStorage.getItem('blt_hour12') ?? 'false'), // default 24h
      light: JSON.parse(localStorage.getItem('blt_light') ?? 'false'),   // default dark
      expanded: JSON.parse(localStorage.getItem('blt_expanded') ?? 'false'),
    };

    function persist() {
      localStorage.setItem('blt_hour12', JSON.stringify(state.hour12));
      localStorage.setItem('blt_light', JSON.stringify(state.light));
      localStorage.setItem('blt_expanded', JSON.stringify(state.expanded));
    }

    // ===== DOM =====
    const fmtBtn = document.getElementById('fmtBtn');
    const themeBtn = document.getElementById('themeBtn');
    const toggleDetailsBtn = document.getElementById('toggleDetails');
    const zonesEl = document.getElementById('zones');

    function applyTheme() {
      document.documentElement.classList.toggle('light', state.light);
      themeBtn.textContent = state.light ? 'Light' : 'Dark';
      themeBtn.setAttribute('aria-pressed', String(state.light));
    }

    function applyFormat() {
      fmtBtn.textContent = state.hour12 ? '12‚Äëhour' : '24‚Äëhour';
      fmtBtn.setAttribute('aria-pressed', String(state.hour12));
    }

    function applyExpanded() {
      zonesEl.classList.toggle('expanded', state.expanded);
      toggleDetailsBtn.textContent = state.expanded ? 'Collapse details' : 'Expand details';
      toggleDetailsBtn.setAttribute('aria-pressed', String(state.expanded));
    }

    themeBtn.addEventListener('click', () => { state.light = !state.light; applyTheme(); persist(); });
    fmtBtn.addEventListener('click', () => { state.hour12 = !state.hour12; applyFormat(); tick(); persist(); });
    toggleDetailsBtn.addEventListener('click', () => { state.expanded = !state.expanded; applyExpanded(); persist(); });

    // Hover swap for BLT labels
    function setupHoverSwap(el) {
      const base = el.getAttribute('data-base');
      const hover = el.getAttribute('data-hover');
      el.addEventListener('mouseenter', () => { el.textContent = hover; });
      el.addEventListener('mouseleave', () => { el.textContent = base; });
      el.addEventListener('focus', () => { el.textContent = hover; });
      el.addEventListener('blur', () => { el.textContent = base; });
    }

    document.querySelectorAll('.hoverSwap').forEach(setupHoverSwap);

    // ===== Builders =====
    function formatTime(date, timeZone, hour12) {
      const timeFmt = new Intl.DateTimeFormat(undefined, {
        hour: '2-digit', minute: '2-digit', second: '2-digit', hour12, timeZone,
      });
      const dateFmt = new Intl.DateTimeFormat(undefined, {
        weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', timeZone,
      });
      return { time: timeFmt.format(date), date: dateFmt.format(date) };
    }

    function tzMeta(date, timeZone) {
      let short = '';
      try {
        const abbrFmt = new Intl.DateTimeFormat(undefined, { timeZone, timeZoneName: 'short' });
        const parts = abbrFmt.formatToParts(date);
        const zonePart = parts.find(p => p.type === 'timeZoneName');
        if (zonePart) short = zonePart.value; // e.g., AEST, AEDT, ACST, ACDT, UTC
      } catch {}

      let offset = '';
      try {
        const utc = new Date(date.toLocaleString('en-CA', { timeZone: 'UTC', hour12: false }));
        const zoned = new Date(date.toLocaleString('en-CA', { timeZone, hour12: false }));
        const diffMin = Math.round((zoned - utc) / 60000);
        const sign = diffMin >= 0 ? '+' : '-';
        const abs = Math.abs(diffMin);
        const hh = String(Math.floor(abs / 60)).padStart(2, '0');
        const mm = String(abs % 60).padStart(2, '0');
        offset = `UTC${sign}${hh}:${mm}`;
      } catch {}
      return { short, offset };
    }

    function buildZones() {
      zonesEl.innerHTML = '';
      ZONES.forEach((z) => {
        const item = document.createElement('div');
        item.className = 'zoneItem';
        item.innerHTML = `
          <div>
            <div class=\"zoneName\">${z.label}</div>
            <div class=\"zoneMeta\">
              <span class=\"chip\" data-abbrev></span>
              <span class=\"chip\" data-offset></span>
              <span class=\"chip\">${z.tz}</span>
            </div>
          </div>
          <div class=\"zoneTime\" data-time>00:00:00</div>
        `;
        zonesEl.appendChild(item);
        z._el = item;
      });
    }

    // ===== Tick loop =====
    function tick() {
      const now = new Date();
      // BLT
      const bltFmt = formatTime(now, BLT_TZ, state.hour12);
      const bltMeta = tzMeta(now, BLT_TZ);
      document.getElementById('bltTime').textContent = bltFmt.time;
      document.getElementById('bltDate').textContent = bltFmt.date;
      // Update hover targets with accurate hover text (ACDT/ACST)
      const ab = document.getElementById('bltAbbrev');
      ab.setAttribute('data-hover', bltMeta.short || 'ACDT');
      document.getElementById('bltOffset').textContent = bltMeta.offset || '‚Äî';

      // Zones
      ZONES.forEach(z => {
        const { time, date } = formatTime(now, z.tz, state.hour12);
        const meta = tzMeta(now, z.tz);
        z._el.querySelector('[data-time]').textContent = time;
        z._el.querySelector('[data-abbrev]').textContent = meta.short || '';
        z._el.querySelector('[data-offset]').textContent = meta.offset || '';
        z._el.title = date; // hover to see the date
      });
    }

    // ===== Init =====
    applyTheme();
    applyFormat();
    buildZones();
    applyExpanded();
    tick();
    setInterval(tick, 1000);
  </script>
</body>
</html>
